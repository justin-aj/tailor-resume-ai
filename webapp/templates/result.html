<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tailored Resume - Resume Tailor AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-green-50 via-white to-emerald-50 min-h-screen">
    <!-- Header -->
    <nav class="bg-gradient-to-r from-green-600 to-emerald-600 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-check-circle text-white text-2xl"></i>
                    <span class="text-white text-xl font-bold">AI Prompt Generated Successfully</span>
                </div>
                <a href="{{ url_for('index') }}" class="inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-lg transition-all duration-200 backdrop-blur-sm">
                    <i class="fas fa-arrow-left mr-2"></i>Generate Another
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Job Description Summary -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden mb-8">
            <div class="bg-gradient-to-r from-blue-500 to-cyan-500 px-6 py-4">
                <h3 class="text-xl font-bold text-white flex items-center">
                    <i class="fas fa-briefcase mr-2"></i>Job Description Summary
                </h3>
            </div>
            <div class="p-6">
                <p class="text-gray-600 leading-relaxed">{{ job_description }}</p>
            </div>
        </div>

        <!-- Generated Prompt -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <div class="bg-gradient-to-r from-green-500 to-emerald-500 px-6 py-4 flex flex-wrap justify-between items-center gap-4">
                <h3 class="text-xl font-bold text-white flex items-center">
                    <i class="fas fa-clipboard-list mr-2"></i>Complete AI Prompt
                </h3>
                <div class="flex space-x-2">
                    <button type="button" 
                            class="px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-lg transition-all duration-200 backdrop-blur-sm flex items-center" 
                            onclick="copyToClipboard()">
                        <i class="fas fa-copy mr-2"></i>Copy Prompt
                    </button>
                    <button type="button" 
                            class="px-4 py-2 bg-white text-green-600 hover:bg-opacity-90 rounded-lg transition-all duration-200 flex items-center font-semibold" 
                            onclick="openAIServices()">
                        <i class="fas fa-external-link-alt mr-2"></i>Open AI Services
                    </button>
                </div>
            </div>
            <div class="p-0">
                <textarea id="completePrompt" 
                         class="w-full px-6 py-4 border-0 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-y" 
                         rows="25" 
                         readonly>{{ complete_prompt }}</textarea>
            </div>
            <div class="bg-gray-50 px-6 py-4">
                <div class="flex flex-wrap justify-between items-center gap-4">
                    <div class="text-sm text-gray-600 flex items-center space-x-4">
                        <span class="flex items-center">
                            <i class="fas fa-info-circle mr-1"></i>
                            Words: <span id="wordCount" class="font-semibold ml-1">{{ word_count }}</span>
                        </span>
                        <span class="text-gray-400">|</span>
                        <span class="flex items-center">
                            Characters: <span id="charCount" class="font-semibold ml-1">{{ char_count }}</span>
                        </span>
                    </div>
                    <div class="text-sm text-green-600 font-semibold flex items-center">
                        <i class="fas fa-check-circle mr-2"></i>Ready to paste into your AI service
                    </div>
                </div>
            </div>
        </div>


        <!-- Quick Links to AI Services -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden mt-8 mb-8">
            <div class="bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4">
                <h3 class="text-xl font-bold text-white flex items-center">
                    <i class="fas fa-robot mr-2"></i>AI Service Quick Links
                </h3>
            </div>
            <div class="p-6">
                <div class="grid md:grid-cols-4 gap-4 mb-6">
                    <a href="https://chat.openai.com/" target="_blank" 
                       class="flex items-center justify-center px-6 py-4 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl font-semibold">
                        <i class="fas fa-brain mr-2"></i>ChatGPT
                    </a>
                    <a href="https://claude.ai/" target="_blank" 
                       class="flex items-center justify-center px-6 py-4 bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl font-semibold">
                        <i class="fas fa-comments mr-2"></i>Claude
                    </a>
                    <a href="https://gemini.google.com/" target="_blank" 
                       class="flex items-center justify-center px-6 py-4 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl font-semibold">
                        <i class="fas fa-star mr-2"></i>Gemini
                    </a>
                    <a href="https://perplexity.ai/" target="_blank" 
                       class="flex items-center justify-center px-6 py-4 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl font-semibold">
                        <i class="fas fa-search mr-2"></i>Perplexity
                    </a>
                </div>
                <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-start">
                    <i class="fas fa-lightbulb text-blue-600 text-xl mr-3 mt-1"></i>
                    <div>
                        <p class="font-semibold text-blue-900 mb-1">How to use:</p>
                        <p class="text-blue-800 text-sm">Copy the prompt above and paste it into any AI service. The prompt contains all your inputs and detailed instructions for optimal resume tailoring.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        function copyToClipboard() {
            const textarea = document.getElementById('completePrompt');
            textarea.select();
            textarea.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(textarea.value);
            
            // Show feedback
            const btn = event.target.closest('button');
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check mr-2"></i>Copied!';
            btn.classList.add('opacity-90');
            
            setTimeout(() => {
                btn.innerHTML = originalHTML;
                btn.classList.remove('opacity-90');
            }, 2000);
            
            // Show toast notification
            showCopyNotification();
        }

        function openAIServices() {
            const choice = confirm("Copy the prompt first, then click OK to open ChatGPT (or Cancel to choose manually from the links below)");
            if (choice) {
                window.open('https://chat.openai.com/', '_blank');
            }
        }

        // Auto-select prompt text when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const textarea = document.getElementById('completePrompt');
            if (textarea) {
                textarea.focus();
                textarea.setSelectionRange(0, textarea.value.length);
            }
        });

        // Keyboard shortcut notification
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'c') {
                const textarea = document.getElementById('completePrompt');
                if (document.activeElement === textarea) {
                    setTimeout(() => {
                        showCopyNotification();
                    }, 100);
                }
            }
        });

        function showCopyNotification() {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-xl z-50 flex items-center space-x-2 animate-fade-in';
            notification.innerHTML = '<i class="fas fa-check-circle text-xl"></i><span class="font-semibold">Prompt copied to clipboard!</span>';
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>
</body>
</html>
</body>
</html>
